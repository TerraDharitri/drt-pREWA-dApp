{"abi":[{"type":"function","name":"addTier","inputs":[{"name":"duration","type":"uint256","internalType":"uint256"},{"name":"rewardMultiplier","type":"uint256","internalType":"uint256"},{"name":"earlyWithdrawalPenalty","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"tierId","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"type":"function","name":"calculateRewards","inputs":[{"name":"user","type":"address","internalType":"address"},{"name":"positionId","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"rewardsAmount","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"checkEmergencyStatus","inputs":[{"name":"operation","type":"bytes4","internalType":"bytes4"}],"outputs":[{"name":"allowed","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"claimRewards","inputs":[{"name":"positionId","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"amountClaimed","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"type":"function","name":"emergencyShutdown","inputs":[{"name":"emergencyLevel","type":"uint8","internalType":"uint8"}],"outputs":[{"name":"success","type":"bool","internalType":"bool"}],"stateMutability":"nonpayable"},{"type":"function","name":"emergencyWithdraw","inputs":[{"name":"positionId","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"amountWithdrawn","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"type":"function","name":"getBaseAnnualPercentageRate","inputs":[],"outputs":[{"name":"aprBps","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getEmergencyController","inputs":[],"outputs":[{"name":"controller","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"getEmergencyWithdrawalSettings","inputs":[],"outputs":[{"name":"enabled","type":"bool","internalType":"bool"},{"name":"penaltyBps","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getMaxPositionsPerUser","inputs":[],"outputs":[{"name":"maxPositions","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getPositionCount","inputs":[{"name":"user","type":"address","internalType":"address"}],"outputs":[{"name":"count","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getStakingPosition","inputs":[{"name":"user","type":"address","internalType":"address"},{"name":"positionId","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"amount","type":"uint256","internalType":"uint256"},{"name":"startTime","type":"uint256","internalType":"uint256"},{"name":"endTime","type":"uint256","internalType":"uint256"},{"name":"lastClaimTime","type":"uint256","internalType":"uint256"},{"name":"tierId","type":"uint256","internalType":"uint256"},{"name":"active","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"getStakingTokenAddress","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"getTierInfo","inputs":[{"name":"tierId","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"duration","type":"uint256","internalType":"uint256"},{"name":"rewardMultiplier","type":"uint256","internalType":"uint256"},{"name":"earlyWithdrawalPenalty","type":"uint256","internalType":"uint256"},{"name":"active","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"initialize","inputs":[{"name":"stakingTokenAddress_","type":"address","internalType":"address"},{"name":"accessControlAddr_","type":"address","internalType":"address"},{"name":"emergencyControllerAddr_","type":"address","internalType":"address"},{"name":"oracleIntegrationAddr_","type":"address","internalType":"address"},{"name":"initialBaseAPRBps_","type":"uint256","internalType":"uint256"},{"name":"minStakeDurationVal_","type":"uint256","internalType":"uint256"},{"name":"adminAddr_","type":"address","internalType":"address"},{"name":"initialMaxPositionsPerUser_","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"isEmergencyPaused","inputs":[],"outputs":[{"name":"isPaused","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"isStakingPaused","inputs":[],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"pauseStaking","inputs":[],"outputs":[{"name":"success","type":"bool","internalType":"bool"}],"stateMutability":"nonpayable"},{"type":"function","name":"setBaseAnnualPercentageRate","inputs":[{"name":"newBaseAPRBps","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"success","type":"bool","internalType":"bool"}],"stateMutability":"nonpayable"},{"type":"function","name":"setEmergencyController","inputs":[{"name":"controller","type":"address","internalType":"address"}],"outputs":[{"name":"success","type":"bool","internalType":"bool"}],"stateMutability":"nonpayable"},{"type":"function","name":"setEmergencyWithdrawal","inputs":[{"name":"enabled","type":"bool","internalType":"bool"},{"name":"penalty","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"success","type":"bool","internalType":"bool"}],"stateMutability":"nonpayable"},{"type":"function","name":"setMaxPositionsPerUser","inputs":[{"name":"maxPositions","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"success","type":"bool","internalType":"bool"}],"stateMutability":"nonpayable"},{"type":"function","name":"setMinStakeDuration","inputs":[{"name":"duration","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"success","type":"bool","internalType":"bool"}],"stateMutability":"nonpayable"},{"type":"function","name":"stake","inputs":[{"name":"amount","type":"uint256","internalType":"uint256"},{"name":"tierId","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"positionId","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"type":"function","name":"totalStaked","inputs":[],"outputs":[{"name":"totalStakedAmount","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"unpauseStaking","inputs":[],"outputs":[{"name":"success","type":"bool","internalType":"bool"}],"stateMutability":"nonpayable"},{"type":"function","name":"unstake","inputs":[{"name":"positionId","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"amountUnstaked","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"type":"function","name":"updateTier","inputs":[{"name":"tierId","type":"uint256","internalType":"uint256"},{"name":"duration","type":"uint256","internalType":"uint256"},{"name":"rewardMultiplier","type":"uint256","internalType":"uint256"},{"name":"earlyWithdrawalPenalty","type":"uint256","internalType":"uint256"},{"name":"active","type":"bool","internalType":"bool"}],"outputs":[{"name":"success","type":"bool","internalType":"bool"}],"stateMutability":"nonpayable"},{"type":"event","name":"BaseAPRUpdated","inputs":[{"name":"oldBaseAPRBps","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"newBaseAPRBps","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"correspondingScaledRate","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"updater","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"EmergencyShutdownHandled","inputs":[{"name":"emergencyLevel","type":"uint8","indexed":false,"internalType":"uint8"},{"name":"caller","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"EmergencyStatusChecked","inputs":[{"name":"emergencyLevel","type":"uint8","indexed":false,"internalType":"uint8"},{"name":"operation","type":"bytes4","indexed":false,"internalType":"bytes4"},{"name":"allowed","type":"bool","indexed":false,"internalType":"bool"}],"anonymous":false},{"type":"event","name":"EmergencyWithdrawalSettingsUpdated","inputs":[{"name":"enabled","type":"bool","indexed":false,"internalType":"bool"},{"name":"penalty","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"updater","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"MaxPositionsPerUserUpdated","inputs":[{"name":"oldMax","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"newMax","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"updater","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"MinStakeDurationUpdated","inputs":[{"name":"oldDuration","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"newDuration","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"updater","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"RewardsClaimed","inputs":[{"name":"user","type":"address","indexed":true,"internalType":"address"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"positionId","type":"uint256","indexed":true,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"Staked","inputs":[{"name":"user","type":"address","indexed":true,"internalType":"address"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"tierId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"positionId","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"StakingPaused","inputs":[{"name":"account","type":"address","indexed":false,"internalType":"address"}],"anonymous":false},{"type":"event","name":"StakingUnpaused","inputs":[{"name":"account","type":"address","indexed":false,"internalType":"address"}],"anonymous":false},{"type":"event","name":"TierAdded","inputs":[{"name":"tierId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"duration","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"rewardMultiplier","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"earlyWithdrawalPenalty","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"creator","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"TierUpdated","inputs":[{"name":"tierId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"duration","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"rewardMultiplier","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"earlyWithdrawalPenalty","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"active","type":"bool","indexed":false,"internalType":"bool"},{"name":"updater","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"Unstaked","inputs":[{"name":"user","type":"address","indexed":true,"internalType":"address"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"positionId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"penaltyAmount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false}],"bytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"deployedBytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"methodIdentifiers":{"addTier(uint256,uint256,uint256)":"6358ec57","calculateRewards(address,uint256)":"beb8314c","checkEmergencyStatus(bytes4)":"8aed668a","claimRewards(uint256)":"0962ef79","emergencyShutdown(uint8)":"eb1676c1","emergencyWithdraw(uint256)":"5312ea8e","getBaseAnnualPercentageRate()":"294558ab","getEmergencyController()":"c993cc9d","getEmergencyWithdrawalSettings()":"95bc252c","getMaxPositionsPerUser()":"b8e374a0","getPositionCount(address)":"0234b445","getStakingPosition(address,uint256)":"e455aea5","getStakingTokenAddress()":"5e1e09a1","getTierInfo(uint256)":"cc9d7519","initialize(address,address,address,address,uint256,uint256,address,uint256)":"ef335a63","isEmergencyPaused()":"290d10c4","isStakingPaused()":"1ea7ca89","pauseStaking()":"f999c506","setBaseAnnualPercentageRate(uint256)":"40d5ee36","setEmergencyController(address)":"6ca7dc89","setEmergencyWithdrawal(bool,uint256)":"40fd9c15","setMaxPositionsPerUser(uint256)":"7a36842d","setMinStakeDuration(uint256)":"aafc5d47","stake(uint256,uint256)":"7b0472f0","totalStaked()":"817b1cd2","unpauseStaking()":"93f4bcde","unstake(uint256)":"2e17de78","updateTier(uint256,uint256,uint256,uint256,bool)":"6edb9e3c"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.28+commit.7893614a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"oldBaseAPRBps\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"newBaseAPRBps\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"correspondingScaledRate\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"updater\",\"type\":\"address\"}],\"name\":\"BaseAPRUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint8\",\"name\":\"emergencyLevel\",\"type\":\"uint8\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"caller\",\"type\":\"address\"}],\"name\":\"EmergencyShutdownHandled\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint8\",\"name\":\"emergencyLevel\",\"type\":\"uint8\"},{\"indexed\":false,\"internalType\":\"bytes4\",\"name\":\"operation\",\"type\":\"bytes4\"},{\"indexed\":false,\"internalType\":\"bool\",\"name\":\"allowed\",\"type\":\"bool\"}],\"name\":\"EmergencyStatusChecked\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"bool\",\"name\":\"enabled\",\"type\":\"bool\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"penalty\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"updater\",\"type\":\"address\"}],\"name\":\"EmergencyWithdrawalSettingsUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"oldMax\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"newMax\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"updater\",\"type\":\"address\"}],\"name\":\"MaxPositionsPerUserUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"oldDuration\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"newDuration\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"updater\",\"type\":\"address\"}],\"name\":\"MinStakeDurationUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"positionId\",\"type\":\"uint256\"}],\"name\":\"RewardsClaimed\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"tierId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"positionId\",\"type\":\"uint256\"}],\"name\":\"Staked\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"StakingPaused\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"StakingUnpaused\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"tierId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"duration\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"rewardMultiplier\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"earlyWithdrawalPenalty\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"creator\",\"type\":\"address\"}],\"name\":\"TierAdded\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"tierId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"duration\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"rewardMultiplier\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"earlyWithdrawalPenalty\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"bool\",\"name\":\"active\",\"type\":\"bool\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"updater\",\"type\":\"address\"}],\"name\":\"TierUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"positionId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"penaltyAmount\",\"type\":\"uint256\"}],\"name\":\"Unstaked\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"duration\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"rewardMultiplier\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"earlyWithdrawalPenalty\",\"type\":\"uint256\"}],\"name\":\"addTier\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"tierId\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"positionId\",\"type\":\"uint256\"}],\"name\":\"calculateRewards\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"rewardsAmount\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes4\",\"name\":\"operation\",\"type\":\"bytes4\"}],\"name\":\"checkEmergencyStatus\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"allowed\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"positionId\",\"type\":\"uint256\"}],\"name\":\"claimRewards\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"amountClaimed\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint8\",\"name\":\"emergencyLevel\",\"type\":\"uint8\"}],\"name\":\"emergencyShutdown\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"success\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"positionId\",\"type\":\"uint256\"}],\"name\":\"emergencyWithdraw\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"amountWithdrawn\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getBaseAnnualPercentageRate\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"aprBps\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getEmergencyController\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"controller\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getEmergencyWithdrawalSettings\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"enabled\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"penaltyBps\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getMaxPositionsPerUser\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"maxPositions\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"}],\"name\":\"getPositionCount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"count\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"positionId\",\"type\":\"uint256\"}],\"name\":\"getStakingPosition\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"startTime\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"endTime\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"lastClaimTime\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"tierId\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"active\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getStakingTokenAddress\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tierId\",\"type\":\"uint256\"}],\"name\":\"getTierInfo\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"duration\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"rewardMultiplier\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"earlyWithdrawalPenalty\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"active\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"stakingTokenAddress_\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"accessControlAddr_\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"emergencyControllerAddr_\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"oracleIntegrationAddr_\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"initialBaseAPRBps_\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"minStakeDurationVal_\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"adminAddr_\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"initialMaxPositionsPerUser_\",\"type\":\"uint256\"}],\"name\":\"initialize\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"isEmergencyPaused\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"isPaused\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"isStakingPaused\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"pauseStaking\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"success\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"newBaseAPRBps\",\"type\":\"uint256\"}],\"name\":\"setBaseAnnualPercentageRate\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"success\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"controller\",\"type\":\"address\"}],\"name\":\"setEmergencyController\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"success\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bool\",\"name\":\"enabled\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"penalty\",\"type\":\"uint256\"}],\"name\":\"setEmergencyWithdrawal\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"success\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"maxPositions\",\"type\":\"uint256\"}],\"name\":\"setMaxPositionsPerUser\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"success\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"duration\",\"type\":\"uint256\"}],\"name\":\"setMinStakeDuration\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"success\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"tierId\",\"type\":\"uint256\"}],\"name\":\"stake\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"positionId\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"totalStaked\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"totalStakedAmount\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"unpauseStaking\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"success\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"positionId\",\"type\":\"uint256\"}],\"name\":\"unstake\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"amountUnstaked\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tierId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"duration\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"rewardMultiplier\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"earlyWithdrawalPenalty\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"active\",\"type\":\"bool\"}],\"name\":\"updateTier\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"success\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"events\":{\"BaseAPRUpdated(uint256,uint256,uint256,address)\":{\"params\":{\"correspondingScaledRate\":\"The internal scaled rate representation of the new APR.\",\"newBaseAPRBps\":\"The new base APR in basis points.\",\"oldBaseAPRBps\":\"The previous base APR in basis points.\",\"updater\":\"The address that performed the update.\"}},\"EmergencyShutdownHandled(uint8,address)\":{\"params\":{\"caller\":\"The address of the controller that initiated the shutdown signal.\",\"emergencyLevel\":\"The emergency level that was handled.\"}},\"EmergencyStatusChecked(uint8,bytes4,bool)\":{\"params\":{\"allowed\":\"A boolean indicating whether the operation was allowed to proceed.\",\"emergencyLevel\":\"The current system-wide emergency level at the time of the check.\",\"operation\":\"The function selector of the operation being checked.\"}},\"EmergencyWithdrawalSettingsUpdated(bool,uint256,address)\":{\"params\":{\"enabled\":\"True if emergency withdrawal is enabled.\",\"penalty\":\"The new penalty in basis points.\",\"updater\":\"The address that performed the update.\"}},\"MaxPositionsPerUserUpdated(uint256,uint256,address)\":{\"params\":{\"newMax\":\"The new maximum number of positions.\",\"oldMax\":\"The previous maximum number of positions.\",\"updater\":\"The address that performed the update.\"}},\"MinStakeDurationUpdated(uint256,uint256,address)\":{\"params\":{\"newDuration\":\"The new minimum duration.\",\"oldDuration\":\"The previous minimum duration.\",\"updater\":\"The address that performed the update.\"}},\"RewardsClaimed(address,uint256,uint256)\":{\"params\":{\"amount\":\"The amount of reward tokens claimed.\",\"positionId\":\"The ID of the position from which rewards were claimed.\",\"user\":\"The address of the claimant.\"}},\"Staked(address,uint256,uint256,uint256)\":{\"params\":{\"amount\":\"The amount of tokens staked.\",\"positionId\":\"The ID of the newly created staking position.\",\"tierId\":\"The ID of the staking tier.\",\"user\":\"The address of the staker.\"}},\"StakingPaused(address)\":{\"params\":{\"account\":\"The address that initiated the pause.\"}},\"StakingUnpaused(address)\":{\"params\":{\"account\":\"The address that initiated the unpause.\"}},\"TierAdded(uint256,uint256,uint256,uint256,address)\":{\"params\":{\"creator\":\"The address that added the tier.\",\"duration\":\"The staking duration of the tier in seconds.\",\"earlyWithdrawalPenalty\":\"The penalty for early withdrawal from the tier in basis points.\",\"rewardMultiplier\":\"The reward multiplier of the tier in basis points.\",\"tierId\":\"The ID of the new tier.\"}},\"TierUpdated(uint256,uint256,uint256,uint256,bool,address)\":{\"params\":{\"active\":\"The new active status of the tier.\",\"duration\":\"The new duration for the tier.\",\"earlyWithdrawalPenalty\":\"The new early withdrawal penalty for the tier.\",\"rewardMultiplier\":\"The new reward multiplier for the tier.\",\"tierId\":\"The ID of the updated tier.\",\"updater\":\"The address that updated the tier.\"}},\"Unstaked(address,uint256,uint256,uint256)\":{\"params\":{\"amount\":\"The amount of tokens unstaked (after any penalty).\",\"penaltyAmount\":\"The amount of tokens deducted as a penalty.\",\"positionId\":\"The ID of the unstaked position.\",\"user\":\"The address of the staker.\"}}},\"kind\":\"dev\",\"methods\":{\"addTier(uint256,uint256,uint256)\":{\"params\":{\"duration\":\"The staking duration for this tier in seconds.\",\"earlyWithdrawalPenalty\":\"The penalty for early unstaking in basis points.\",\"rewardMultiplier\":\"The reward multiplier for this tier in basis points.\"},\"returns\":{\"tierId\":\"The ID of the newly created tier.\"}},\"calculateRewards(address,uint256)\":{\"params\":{\"positionId\":\"The ID of the staking position.\",\"user\":\"The address of the staker.\"},\"returns\":{\"rewardsAmount\":\"The amount of pending rewards.\"}},\"checkEmergencyStatus(bytes4)\":{\"details\":\"This function is typically called by modifiers within the implementing contract to guard functions.\",\"params\":{\"operation\":\"The 4-byte function selector of the operation being attempted.\"},\"returns\":{\"allowed\":\"A boolean indicating if the operation is permitted.\"}},\"claimRewards(uint256)\":{\"params\":{\"positionId\":\"The ID of the user's staking position.\"},\"returns\":{\"amountClaimed\":\"The amount of reward tokens claimed.\"}},\"emergencyShutdown(uint8)\":{\"details\":\"The implementing contract defines how it should react to different emergency levels. For example, it might pause itself or enable emergency withdrawals.\",\"params\":{\"emergencyLevel\":\"The system-wide emergency level being broadcast by the controller.\"},\"returns\":{\"success\":\"A boolean indicating if the shutdown was handled successfully.\"}},\"emergencyWithdraw(uint256)\":{\"params\":{\"positionId\":\"The ID of the user's staking position to withdraw.\"},\"returns\":{\"amountWithdrawn\":\"The amount of tokens returned to the user after the emergency penalty.\"}},\"getBaseAnnualPercentageRate()\":{\"returns\":{\"aprBps\":\"The base APR in basis points.\"}},\"getEmergencyController()\":{\"returns\":{\"controller\":\"The address of the EmergencyController.\"}},\"getEmergencyWithdrawalSettings()\":{\"returns\":{\"enabled\":\"True if emergency withdrawal is enabled.\",\"penaltyBps\":\"The penalty in basis points.\"}},\"getMaxPositionsPerUser()\":{\"returns\":{\"maxPositions\":\"The maximum number of positions.\"}},\"getPositionCount(address)\":{\"params\":{\"user\":\"The address of the user.\"},\"returns\":{\"count\":\"The number of positions.\"}},\"getStakingPosition(address,uint256)\":{\"params\":{\"positionId\":\"The ID of the staking position.\",\"user\":\"The address of the staker.\"},\"returns\":{\"active\":\"True if the position is active.\",\"amount\":\"The staked amount.\",\"endTime\":\"The timestamp when the stake matures.\",\"lastClaimTime\":\"The timestamp of the last reward claim.\",\"startTime\":\"The timestamp when the stake was created.\",\"tierId\":\"The ID of the staking tier.\"}},\"getStakingTokenAddress()\":{\"returns\":{\"_0\":\"The address of the staking token.\"}},\"getTierInfo(uint256)\":{\"params\":{\"tierId\":\"The ID of the tier.\"},\"returns\":{\"active\":\"True if the tier is active.\",\"duration\":\"The staking duration of the tier.\",\"earlyWithdrawalPenalty\":\"The early withdrawal penalty of the tier.\",\"rewardMultiplier\":\"The reward multiplier of the tier.\"}},\"initialize(address,address,address,address,uint256,uint256,address,uint256)\":{\"params\":{\"accessControlAddr_\":\"Address of the AccessControl contract.\",\"adminAddr_\":\"The initial owner/admin of the contract.\",\"emergencyControllerAddr_\":\"Address of the EmergencyController contract.\",\"initialBaseAPRBps_\":\"The initial base Annual Percentage Rate in basis points.\",\"initialMaxPositionsPerUser_\":\"The maximum number of active staking positions a user can have.\",\"minStakeDurationVal_\":\"The minimum duration for any staking tier.\",\"oracleIntegrationAddr_\":\"Address of the OracleIntegration contract (can be address(0)).\",\"stakingTokenAddress_\":\"The address of the pREWA token to be staked.\"}},\"isEmergencyPaused()\":{\"returns\":{\"isPaused\":\"A boolean indicating if the contract is considered to be in a paused state.\"}},\"isStakingPaused()\":{\"returns\":{\"_0\":\"True if staking is paused.\"}},\"pauseStaking()\":{\"returns\":{\"success\":\"True if the operation was successful.\"}},\"setBaseAnnualPercentageRate(uint256)\":{\"params\":{\"newBaseAPRBps\":\"The new base APR in basis points.\"},\"returns\":{\"success\":\"True if the operation was successful.\"}},\"setEmergencyController(address)\":{\"details\":\"This function should be access-controlled within the implementing contract (e.g., `onlyOwner`).\",\"params\":{\"controller\":\"The address of the new EmergencyController.\"},\"returns\":{\"success\":\"A boolean indicating if the operation was successful.\"}},\"setEmergencyWithdrawal(bool,uint256)\":{\"params\":{\"enabled\":\"Whether to enable or disable emergency withdrawals.\",\"penalty\":\"The penalty to apply on emergency withdrawals in basis points.\"},\"returns\":{\"success\":\"True if the operation was successful.\"}},\"setMaxPositionsPerUser(uint256)\":{\"params\":{\"maxPositions\":\"The new maximum number of positions.\"},\"returns\":{\"success\":\"True if the operation was successful.\"}},\"setMinStakeDuration(uint256)\":{\"params\":{\"duration\":\"The new minimum duration in seconds.\"},\"returns\":{\"success\":\"True if the operation was successful.\"}},\"stake(uint256,uint256)\":{\"params\":{\"amount\":\"The amount of tokens to stake.\",\"tierId\":\"The ID of the staking tier.\"},\"returns\":{\"positionId\":\"The ID of the newly created staking position.\"}},\"totalStaked()\":{\"returns\":{\"totalStakedAmount\":\"The total staked amount.\"}},\"unpauseStaking()\":{\"returns\":{\"success\":\"True if the operation was successful.\"}},\"unstake(uint256)\":{\"params\":{\"positionId\":\"The ID of the user's staking position to unstake.\"},\"returns\":{\"amountUnstaked\":\"The amount of tokens returned to the user after any penalties.\"}},\"updateTier(uint256,uint256,uint256,uint256,bool)\":{\"params\":{\"active\":\"The new active status for the tier.\",\"duration\":\"The new staking duration for the tier.\",\"earlyWithdrawalPenalty\":\"The new early withdrawal penalty for the tier.\",\"rewardMultiplier\":\"The new reward multiplier for the tier.\",\"tierId\":\"The ID of the tier to update.\"},\"returns\":{\"success\":\"True if the operation was successful.\"}}},\"title\":\"ITokenStaking Interface\",\"version\":1},\"userdoc\":{\"events\":{\"BaseAPRUpdated(uint256,uint256,uint256,address)\":{\"notice\":\"Emitted when the base APR for staking rewards is updated.\"},\"EmergencyShutdownHandled(uint8,address)\":{\"notice\":\"Emitted when a contract has processed an `emergencyShutdown` signal from the controller.\"},\"EmergencyStatusChecked(uint8,bytes4,bool)\":{\"notice\":\"Emitted when an emergency status check is performed.\"},\"EmergencyWithdrawalSettingsUpdated(bool,uint256,address)\":{\"notice\":\"Emitted when the emergency withdrawal settings are updated.\"},\"MaxPositionsPerUserUpdated(uint256,uint256,address)\":{\"notice\":\"Emitted when the maximum number of positions per user is updated.\"},\"MinStakeDurationUpdated(uint256,uint256,address)\":{\"notice\":\"Emitted when the minimum staking duration is updated.\"},\"RewardsClaimed(address,uint256,uint256)\":{\"notice\":\"Emitted when a user claims rewards from a staking position.\"},\"Staked(address,uint256,uint256,uint256)\":{\"notice\":\"Emitted when a user stakes tokens.\"},\"StakingPaused(address)\":{\"notice\":\"Emitted when staking is paused.\"},\"StakingUnpaused(address)\":{\"notice\":\"Emitted when staking is unpaused.\"},\"TierAdded(uint256,uint256,uint256,uint256,address)\":{\"notice\":\"Emitted when a new staking tier is added.\"},\"TierUpdated(uint256,uint256,uint256,uint256,bool,address)\":{\"notice\":\"Emitted when an existing staking tier is updated.\"},\"Unstaked(address,uint256,uint256,uint256)\":{\"notice\":\"Emitted when a user unstakes tokens from a position.\"}},\"kind\":\"user\",\"methods\":{\"addTier(uint256,uint256,uint256)\":{\"notice\":\"Adds a new staking tier.\"},\"calculateRewards(address,uint256)\":{\"notice\":\"Calculates the pending rewards for a specific staking position.\"},\"checkEmergencyStatus(bytes4)\":{\"notice\":\"Checks if a specific operation is allowed based on the current emergency status.\"},\"claimRewards(uint256)\":{\"notice\":\"Claims pending rewards for a specific staking position without unstaking.\"},\"emergencyShutdown(uint8)\":{\"notice\":\"A function to be called by the EmergencyController to trigger a state change in the contract.\"},\"emergencyWithdraw(uint256)\":{\"notice\":\"Allows a user to withdraw their staked tokens during an emergency.\"},\"getBaseAnnualPercentageRate()\":{\"notice\":\"Gets the current base APR for staking rewards.\"},\"getEmergencyController()\":{\"notice\":\"Returns the address of the EmergencyController managing this contract.\"},\"getEmergencyWithdrawalSettings()\":{\"notice\":\"Gets the current emergency withdrawal settings.\"},\"getMaxPositionsPerUser()\":{\"notice\":\"Gets the maximum number of active staking positions per user.\"},\"getPositionCount(address)\":{\"notice\":\"Gets the total number of staking positions for a user.\"},\"getStakingPosition(address,uint256)\":{\"notice\":\"Retrieves the details of a specific staking position.\"},\"getStakingTokenAddress()\":{\"notice\":\"Gets the address of the token being staked.\"},\"getTierInfo(uint256)\":{\"notice\":\"Retrieves information about a specific staking tier.\"},\"initialize(address,address,address,address,uint256,uint256,address,uint256)\":{\"notice\":\"Initializes the TokenStaking contract.\"},\"isEmergencyPaused()\":{\"notice\":\"Checks if the contract is effectively paused, either locally or by the global EmergencyController.\"},\"isStakingPaused()\":{\"notice\":\"Checks if the staking contract is currently paused.\"},\"pauseStaking()\":{\"notice\":\"Pauses the staking functionality.\"},\"setBaseAnnualPercentageRate(uint256)\":{\"notice\":\"Sets the base Annual Percentage Rate for staking rewards.\"},\"setEmergencyController(address)\":{\"notice\":\"Sets or updates the address of the EmergencyController.\"},\"setEmergencyWithdrawal(bool,uint256)\":{\"notice\":\"Configures the emergency withdrawal settings.\"},\"setMaxPositionsPerUser(uint256)\":{\"notice\":\"Sets the maximum number of active staking positions a user can have.\"},\"setMinStakeDuration(uint256)\":{\"notice\":\"Sets the minimum staking duration for all tiers.\"},\"stake(uint256,uint256)\":{\"notice\":\"Stakes a specified amount of tokens into a chosen tier.\"},\"totalStaked()\":{\"notice\":\"Gets the total amount of tokens staked in the contract.\"},\"unpauseStaking()\":{\"notice\":\"Unpauses the staking functionality.\"},\"unstake(uint256)\":{\"notice\":\"Unstakes a position, claims any pending rewards, and returns the principal tokens.\"},\"updateTier(uint256,uint256,uint256,uint256,bool)\":{\"notice\":\"Updates an existing staking tier's parameters.\"}},\"notice\":\"Defines the external interface for the TokenStaking contract.\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/core/interfaces/ITokenStaking.sol\":\"ITokenStaking\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":openzeppelin/=lib/openzeppelin-contracts-upgradeable/contracts/\"],\"viaIR\":true},\"sources\":{\"contracts/core/interfaces/ITokenStaking.sol\":{\"keccak256\":\"0xcca86698f43147b458b94a5ddadc549a47448af8daa1854c4b7d2e92ee9f6601\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://fcb86ef5ed793041b0a3dba50b8c745ca962ee2f915eca0dab2e51565dbb7039\",\"dweb:/ipfs/QmdtQEnuj95qiN8WrwRkDGpTU5wsjtJMs9xsCqhRu12mCZ\"]},\"contracts/interfaces/IEmergencyAware.sol\":{\"keccak256\":\"0x679e6cdc57c8b9d75f1928e9767e56a9ad812900dccf3e0a92aa87814324cf5a\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://3219a26e6afbc417ec0e89639bbc028d99ba5fa1b32b2df25310e2df758d4b7e\",\"dweb:/ipfs/QmcLE2ZTDr15JcGkKMDDfjKEcUhuDbfMyFoG4c8CV8oPrh\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.28+commit.7893614a"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"uint256","name":"oldBaseAPRBps","type":"uint256","indexed":false},{"internalType":"uint256","name":"newBaseAPRBps","type":"uint256","indexed":false},{"internalType":"uint256","name":"correspondingScaledRate","type":"uint256","indexed":false},{"internalType":"address","name":"updater","type":"address","indexed":true}],"type":"event","name":"BaseAPRUpdated","anonymous":false},{"inputs":[{"internalType":"uint8","name":"emergencyLevel","type":"uint8","indexed":false},{"internalType":"address","name":"caller","type":"address","indexed":true}],"type":"event","name":"EmergencyShutdownHandled","anonymous":false},{"inputs":[{"internalType":"uint8","name":"emergencyLevel","type":"uint8","indexed":false},{"internalType":"bytes4","name":"operation","type":"bytes4","indexed":false},{"internalType":"bool","name":"allowed","type":"bool","indexed":false}],"type":"event","name":"EmergencyStatusChecked","anonymous":false},{"inputs":[{"internalType":"bool","name":"enabled","type":"bool","indexed":false},{"internalType":"uint256","name":"penalty","type":"uint256","indexed":false},{"internalType":"address","name":"updater","type":"address","indexed":true}],"type":"event","name":"EmergencyWithdrawalSettingsUpdated","anonymous":false},{"inputs":[{"internalType":"uint256","name":"oldMax","type":"uint256","indexed":false},{"internalType":"uint256","name":"newMax","type":"uint256","indexed":false},{"internalType":"address","name":"updater","type":"address","indexed":true}],"type":"event","name":"MaxPositionsPerUserUpdated","anonymous":false},{"inputs":[{"internalType":"uint256","name":"oldDuration","type":"uint256","indexed":false},{"internalType":"uint256","name":"newDuration","type":"uint256","indexed":false},{"internalType":"address","name":"updater","type":"address","indexed":true}],"type":"event","name":"MinStakeDurationUpdated","anonymous":false},{"inputs":[{"internalType":"address","name":"user","type":"address","indexed":true},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false},{"internalType":"uint256","name":"positionId","type":"uint256","indexed":true}],"type":"event","name":"RewardsClaimed","anonymous":false},{"inputs":[{"internalType":"address","name":"user","type":"address","indexed":true},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false},{"internalType":"uint256","name":"tierId","type":"uint256","indexed":true},{"internalType":"uint256","name":"positionId","type":"uint256","indexed":false}],"type":"event","name":"Staked","anonymous":false},{"inputs":[{"internalType":"address","name":"account","type":"address","indexed":false}],"type":"event","name":"StakingPaused","anonymous":false},{"inputs":[{"internalType":"address","name":"account","type":"address","indexed":false}],"type":"event","name":"StakingUnpaused","anonymous":false},{"inputs":[{"internalType":"uint256","name":"tierId","type":"uint256","indexed":true},{"internalType":"uint256","name":"duration","type":"uint256","indexed":false},{"internalType":"uint256","name":"rewardMultiplier","type":"uint256","indexed":false},{"internalType":"uint256","name":"earlyWithdrawalPenalty","type":"uint256","indexed":false},{"internalType":"address","name":"creator","type":"address","indexed":true}],"type":"event","name":"TierAdded","anonymous":false},{"inputs":[{"internalType":"uint256","name":"tierId","type":"uint256","indexed":true},{"internalType":"uint256","name":"duration","type":"uint256","indexed":false},{"internalType":"uint256","name":"rewardMultiplier","type":"uint256","indexed":false},{"internalType":"uint256","name":"earlyWithdrawalPenalty","type":"uint256","indexed":false},{"internalType":"bool","name":"active","type":"bool","indexed":false},{"internalType":"address","name":"updater","type":"address","indexed":true}],"type":"event","name":"TierUpdated","anonymous":false},{"inputs":[{"internalType":"address","name":"user","type":"address","indexed":true},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false},{"internalType":"uint256","name":"positionId","type":"uint256","indexed":true},{"internalType":"uint256","name":"penaltyAmount","type":"uint256","indexed":false}],"type":"event","name":"Unstaked","anonymous":false},{"inputs":[{"internalType":"uint256","name":"duration","type":"uint256"},{"internalType":"uint256","name":"rewardMultiplier","type":"uint256"},{"internalType":"uint256","name":"earlyWithdrawalPenalty","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"addTier","outputs":[{"internalType":"uint256","name":"tierId","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"uint256","name":"positionId","type":"uint256"}],"stateMutability":"view","type":"function","name":"calculateRewards","outputs":[{"internalType":"uint256","name":"rewardsAmount","type":"uint256"}]},{"inputs":[{"internalType":"bytes4","name":"operation","type":"bytes4"}],"stateMutability":"view","type":"function","name":"checkEmergencyStatus","outputs":[{"internalType":"bool","name":"allowed","type":"bool"}]},{"inputs":[{"internalType":"uint256","name":"positionId","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"claimRewards","outputs":[{"internalType":"uint256","name":"amountClaimed","type":"uint256"}]},{"inputs":[{"internalType":"uint8","name":"emergencyLevel","type":"uint8"}],"stateMutability":"nonpayable","type":"function","name":"emergencyShutdown","outputs":[{"internalType":"bool","name":"success","type":"bool"}]},{"inputs":[{"internalType":"uint256","name":"positionId","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"emergencyWithdraw","outputs":[{"internalType":"uint256","name":"amountWithdrawn","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getBaseAnnualPercentageRate","outputs":[{"internalType":"uint256","name":"aprBps","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getEmergencyController","outputs":[{"internalType":"address","name":"controller","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getEmergencyWithdrawalSettings","outputs":[{"internalType":"bool","name":"enabled","type":"bool"},{"internalType":"uint256","name":"penaltyBps","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getMaxPositionsPerUser","outputs":[{"internalType":"uint256","name":"maxPositions","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"user","type":"address"}],"stateMutability":"view","type":"function","name":"getPositionCount","outputs":[{"internalType":"uint256","name":"count","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"uint256","name":"positionId","type":"uint256"}],"stateMutability":"view","type":"function","name":"getStakingPosition","outputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"startTime","type":"uint256"},{"internalType":"uint256","name":"endTime","type":"uint256"},{"internalType":"uint256","name":"lastClaimTime","type":"uint256"},{"internalType":"uint256","name":"tierId","type":"uint256"},{"internalType":"bool","name":"active","type":"bool"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getStakingTokenAddress","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"uint256","name":"tierId","type":"uint256"}],"stateMutability":"view","type":"function","name":"getTierInfo","outputs":[{"internalType":"uint256","name":"duration","type":"uint256"},{"internalType":"uint256","name":"rewardMultiplier","type":"uint256"},{"internalType":"uint256","name":"earlyWithdrawalPenalty","type":"uint256"},{"internalType":"bool","name":"active","type":"bool"}]},{"inputs":[{"internalType":"address","name":"stakingTokenAddress_","type":"address"},{"internalType":"address","name":"accessControlAddr_","type":"address"},{"internalType":"address","name":"emergencyControllerAddr_","type":"address"},{"internalType":"address","name":"oracleIntegrationAddr_","type":"address"},{"internalType":"uint256","name":"initialBaseAPRBps_","type":"uint256"},{"internalType":"uint256","name":"minStakeDurationVal_","type":"uint256"},{"internalType":"address","name":"adminAddr_","type":"address"},{"internalType":"uint256","name":"initialMaxPositionsPerUser_","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"initialize"},{"inputs":[],"stateMutability":"view","type":"function","name":"isEmergencyPaused","outputs":[{"internalType":"bool","name":"isPaused","type":"bool"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"isStakingPaused","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"pauseStaking","outputs":[{"internalType":"bool","name":"success","type":"bool"}]},{"inputs":[{"internalType":"uint256","name":"newBaseAPRBps","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"setBaseAnnualPercentageRate","outputs":[{"internalType":"bool","name":"success","type":"bool"}]},{"inputs":[{"internalType":"address","name":"controller","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"setEmergencyController","outputs":[{"internalType":"bool","name":"success","type":"bool"}]},{"inputs":[{"internalType":"bool","name":"enabled","type":"bool"},{"internalType":"uint256","name":"penalty","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"setEmergencyWithdrawal","outputs":[{"internalType":"bool","name":"success","type":"bool"}]},{"inputs":[{"internalType":"uint256","name":"maxPositions","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"setMaxPositionsPerUser","outputs":[{"internalType":"bool","name":"success","type":"bool"}]},{"inputs":[{"internalType":"uint256","name":"duration","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"setMinStakeDuration","outputs":[{"internalType":"bool","name":"success","type":"bool"}]},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"tierId","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"stake","outputs":[{"internalType":"uint256","name":"positionId","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"totalStaked","outputs":[{"internalType":"uint256","name":"totalStakedAmount","type":"uint256"}]},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"unpauseStaking","outputs":[{"internalType":"bool","name":"success","type":"bool"}]},{"inputs":[{"internalType":"uint256","name":"positionId","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"unstake","outputs":[{"internalType":"uint256","name":"amountUnstaked","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"tierId","type":"uint256"},{"internalType":"uint256","name":"duration","type":"uint256"},{"internalType":"uint256","name":"rewardMultiplier","type":"uint256"},{"internalType":"uint256","name":"earlyWithdrawalPenalty","type":"uint256"},{"internalType":"bool","name":"active","type":"bool"}],"stateMutability":"nonpayable","type":"function","name":"updateTier","outputs":[{"internalType":"bool","name":"success","type":"bool"}]}],"devdoc":{"kind":"dev","methods":{"addTier(uint256,uint256,uint256)":{"params":{"duration":"The staking duration for this tier in seconds.","earlyWithdrawalPenalty":"The penalty for early unstaking in basis points.","rewardMultiplier":"The reward multiplier for this tier in basis points."},"returns":{"tierId":"The ID of the newly created tier."}},"calculateRewards(address,uint256)":{"params":{"positionId":"The ID of the staking position.","user":"The address of the staker."},"returns":{"rewardsAmount":"The amount of pending rewards."}},"checkEmergencyStatus(bytes4)":{"details":"This function is typically called by modifiers within the implementing contract to guard functions.","params":{"operation":"The 4-byte function selector of the operation being attempted."},"returns":{"allowed":"A boolean indicating if the operation is permitted."}},"claimRewards(uint256)":{"params":{"positionId":"The ID of the user's staking position."},"returns":{"amountClaimed":"The amount of reward tokens claimed."}},"emergencyShutdown(uint8)":{"details":"The implementing contract defines how it should react to different emergency levels. For example, it might pause itself or enable emergency withdrawals.","params":{"emergencyLevel":"The system-wide emergency level being broadcast by the controller."},"returns":{"success":"A boolean indicating if the shutdown was handled successfully."}},"emergencyWithdraw(uint256)":{"params":{"positionId":"The ID of the user's staking position to withdraw."},"returns":{"amountWithdrawn":"The amount of tokens returned to the user after the emergency penalty."}},"getBaseAnnualPercentageRate()":{"returns":{"aprBps":"The base APR in basis points."}},"getEmergencyController()":{"returns":{"controller":"The address of the EmergencyController."}},"getEmergencyWithdrawalSettings()":{"returns":{"enabled":"True if emergency withdrawal is enabled.","penaltyBps":"The penalty in basis points."}},"getMaxPositionsPerUser()":{"returns":{"maxPositions":"The maximum number of positions."}},"getPositionCount(address)":{"params":{"user":"The address of the user."},"returns":{"count":"The number of positions."}},"getStakingPosition(address,uint256)":{"params":{"positionId":"The ID of the staking position.","user":"The address of the staker."},"returns":{"active":"True if the position is active.","amount":"The staked amount.","endTime":"The timestamp when the stake matures.","lastClaimTime":"The timestamp of the last reward claim.","startTime":"The timestamp when the stake was created.","tierId":"The ID of the staking tier."}},"getStakingTokenAddress()":{"returns":{"_0":"The address of the staking token."}},"getTierInfo(uint256)":{"params":{"tierId":"The ID of the tier."},"returns":{"active":"True if the tier is active.","duration":"The staking duration of the tier.","earlyWithdrawalPenalty":"The early withdrawal penalty of the tier.","rewardMultiplier":"The reward multiplier of the tier."}},"initialize(address,address,address,address,uint256,uint256,address,uint256)":{"params":{"accessControlAddr_":"Address of the AccessControl contract.","adminAddr_":"The initial owner/admin of the contract.","emergencyControllerAddr_":"Address of the EmergencyController contract.","initialBaseAPRBps_":"The initial base Annual Percentage Rate in basis points.","initialMaxPositionsPerUser_":"The maximum number of active staking positions a user can have.","minStakeDurationVal_":"The minimum duration for any staking tier.","oracleIntegrationAddr_":"Address of the OracleIntegration contract (can be address(0)).","stakingTokenAddress_":"The address of the pREWA token to be staked."}},"isEmergencyPaused()":{"returns":{"isPaused":"A boolean indicating if the contract is considered to be in a paused state."}},"isStakingPaused()":{"returns":{"_0":"True if staking is paused."}},"pauseStaking()":{"returns":{"success":"True if the operation was successful."}},"setBaseAnnualPercentageRate(uint256)":{"params":{"newBaseAPRBps":"The new base APR in basis points."},"returns":{"success":"True if the operation was successful."}},"setEmergencyController(address)":{"details":"This function should be access-controlled within the implementing contract (e.g., `onlyOwner`).","params":{"controller":"The address of the new EmergencyController."},"returns":{"success":"A boolean indicating if the operation was successful."}},"setEmergencyWithdrawal(bool,uint256)":{"params":{"enabled":"Whether to enable or disable emergency withdrawals.","penalty":"The penalty to apply on emergency withdrawals in basis points."},"returns":{"success":"True if the operation was successful."}},"setMaxPositionsPerUser(uint256)":{"params":{"maxPositions":"The new maximum number of positions."},"returns":{"success":"True if the operation was successful."}},"setMinStakeDuration(uint256)":{"params":{"duration":"The new minimum duration in seconds."},"returns":{"success":"True if the operation was successful."}},"stake(uint256,uint256)":{"params":{"amount":"The amount of tokens to stake.","tierId":"The ID of the staking tier."},"returns":{"positionId":"The ID of the newly created staking position."}},"totalStaked()":{"returns":{"totalStakedAmount":"The total staked amount."}},"unpauseStaking()":{"returns":{"success":"True if the operation was successful."}},"unstake(uint256)":{"params":{"positionId":"The ID of the user's staking position to unstake."},"returns":{"amountUnstaked":"The amount of tokens returned to the user after any penalties."}},"updateTier(uint256,uint256,uint256,uint256,bool)":{"params":{"active":"The new active status for the tier.","duration":"The new staking duration for the tier.","earlyWithdrawalPenalty":"The new early withdrawal penalty for the tier.","rewardMultiplier":"The new reward multiplier for the tier.","tierId":"The ID of the tier to update."},"returns":{"success":"True if the operation was successful."}}},"version":1},"userdoc":{"kind":"user","methods":{"addTier(uint256,uint256,uint256)":{"notice":"Adds a new staking tier."},"calculateRewards(address,uint256)":{"notice":"Calculates the pending rewards for a specific staking position."},"checkEmergencyStatus(bytes4)":{"notice":"Checks if a specific operation is allowed based on the current emergency status."},"claimRewards(uint256)":{"notice":"Claims pending rewards for a specific staking position without unstaking."},"emergencyShutdown(uint8)":{"notice":"A function to be called by the EmergencyController to trigger a state change in the contract."},"emergencyWithdraw(uint256)":{"notice":"Allows a user to withdraw their staked tokens during an emergency."},"getBaseAnnualPercentageRate()":{"notice":"Gets the current base APR for staking rewards."},"getEmergencyController()":{"notice":"Returns the address of the EmergencyController managing this contract."},"getEmergencyWithdrawalSettings()":{"notice":"Gets the current emergency withdrawal settings."},"getMaxPositionsPerUser()":{"notice":"Gets the maximum number of active staking positions per user."},"getPositionCount(address)":{"notice":"Gets the total number of staking positions for a user."},"getStakingPosition(address,uint256)":{"notice":"Retrieves the details of a specific staking position."},"getStakingTokenAddress()":{"notice":"Gets the address of the token being staked."},"getTierInfo(uint256)":{"notice":"Retrieves information about a specific staking tier."},"initialize(address,address,address,address,uint256,uint256,address,uint256)":{"notice":"Initializes the TokenStaking contract."},"isEmergencyPaused()":{"notice":"Checks if the contract is effectively paused, either locally or by the global EmergencyController."},"isStakingPaused()":{"notice":"Checks if the staking contract is currently paused."},"pauseStaking()":{"notice":"Pauses the staking functionality."},"setBaseAnnualPercentageRate(uint256)":{"notice":"Sets the base Annual Percentage Rate for staking rewards."},"setEmergencyController(address)":{"notice":"Sets or updates the address of the EmergencyController."},"setEmergencyWithdrawal(bool,uint256)":{"notice":"Configures the emergency withdrawal settings."},"setMaxPositionsPerUser(uint256)":{"notice":"Sets the maximum number of active staking positions a user can have."},"setMinStakeDuration(uint256)":{"notice":"Sets the minimum staking duration for all tiers."},"stake(uint256,uint256)":{"notice":"Stakes a specified amount of tokens into a chosen tier."},"totalStaked()":{"notice":"Gets the total amount of tokens staked in the contract."},"unpauseStaking()":{"notice":"Unpauses the staking functionality."},"unstake(uint256)":{"notice":"Unstakes a position, claims any pending rewards, and returns the principal tokens."},"updateTier(uint256,uint256,uint256,uint256,bool)":{"notice":"Updates an existing staking tier's parameters."}},"version":1}},"settings":{"remappings":["@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","ds-test/=lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/","openzeppelin-contracts/=lib/openzeppelin-contracts/","openzeppelin/=lib/openzeppelin-contracts-upgradeable/contracts/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"contracts/core/interfaces/ITokenStaking.sol":"ITokenStaking"},"evmVersion":"paris","libraries":{},"viaIR":true},"sources":{"contracts/core/interfaces/ITokenStaking.sol":{"keccak256":"0xcca86698f43147b458b94a5ddadc549a47448af8daa1854c4b7d2e92ee9f6601","urls":["bzz-raw://fcb86ef5ed793041b0a3dba50b8c745ca962ee2f915eca0dab2e51565dbb7039","dweb:/ipfs/QmdtQEnuj95qiN8WrwRkDGpTU5wsjtJMs9xsCqhRu12mCZ"],"license":"MIT"},"contracts/interfaces/IEmergencyAware.sol":{"keccak256":"0x679e6cdc57c8b9d75f1928e9767e56a9ad812900dccf3e0a92aa87814324cf5a","urls":["bzz-raw://3219a26e6afbc417ec0e89639bbc028d99ba5fa1b32b2df25310e2df758d4b7e","dweb:/ipfs/QmcLE2ZTDr15JcGkKMDDfjKEcUhuDbfMyFoG4c8CV8oPrh"],"license":"MIT"}},"version":1},"id":7}